// ================================================================================
var wrapper_box;
var OUTPUT_BOX;
var COLORS = new Array("rgb(51, 51, 51)", "rgb(255, 0, 0)");

var OBJECT_MATRIX_H = 4;
var OBJECT_MATRIX_W = 4;

// ================================================================================
window.addEventListener('load', function(){

    // ------------------------------------------------------------------

    __log('addEventListener()');
    wrapper_box = __byId("wrapper_box");
    OUTPUT_BOX = __byId("OUTPUT_BOX");
    _createElements();
    _createArray();



    // ------------------------------------------------------------------
});
// ================================================================================
function _createElements(){
 
    // ------------------------------------------------------------------
    for(var Y=0; Y<OBJECT_MATRIX_H; Y++){
        
        for(var X=0; X<OBJECT_MATRIX_W; X++){

            // ------------
            var elem = __newElem('div');
                elem.className = "b_box";
                elem.style.backgroundColor = COLORS[0];
                // --------------------------------------------------
                /*
                if(X == 4){
                    elem.style.borderRight = "solid 3px red";
                    elem.style.width = "47px";
                }else if(X == 5){
                    elem.style.borderLeft = "solid 3px red";
                    elem.style.width = "47px";
                }
                // --------------------------------------------------
                if(Y == 2){
                    elem.style.borderTop = "solid 3px red";
                    elem.style.borderBottom = "solid 3px red";
                    elem.style.height = "44px";
                }
                */



                // --------------------------------------------------
                elem.id = Y+"_"+X;
                elem.innerHTML = Y+"_"+X;
                elem.onclick = function(){ _onElemclick(this); };

            // ------------
            wrapper_box.appendChild(elem);
            // ------------
        }

    }
    // ------------------------------------------------------------------
    // ------------------------------------------------------------------

}

// ================================================================================
function _createArray(){
 
    // ------------------------------------------------------------------
    OUT = "";
    // ------------------------------------------------------------------
    // [13, ,,,,, -> 23]

/*
    { {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1}, // {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1} },
    { {-1,-1}, {-1,-1}, {-1,-1}, {-1, 1}, {17, 1}, // {18, 1}, {19, 1}, {-1,-1}, {-1,-1}, {-1,-1} },
    { {-1,-1}, {-1,-1}, {-1,-1}, {-1, 2}, {17, 2}, // {18, 2}, {19, 2}, {-1,-1}, {-1,-1}, {-1,-1} },
    { {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1}, // {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1} },
    { {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1}, // {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1}, {-1,-1} }
*/


    var CONST_X = 14;
    var CONST_Y = 0;

    for(var Y=0; Y<OBJECT_MATRIX_H; Y++){
        
        OUT += "                            { ";

        for(var X=0; X<OBJECT_MATRIX_W; X++){
            
            var elem = __byId(Y+"_"+X);//.style.backgroundColor = COLORS[0];
            
            if(elem.style.backgroundColor == COLORS[1]){
                
                if(X < 3)
                    OUT += "{"+(CONST_X+X)+", "+(CONST_Y+Y)+"}, ";

            }else{

                OUT += "{-1,-1}, ";
                
            }
        }

        OUT = OUT.substr(0, OUT.length-2);
        

        if(Y < 3)
            OUT += " },<br/>";
        else
            OUT += " }";

    }




    //OUT = OUT.substr(0, OUT.length-1);
    // ------------------------------------------------------------------
    OUTPUT_BOX.innerHTML = "<pre>"+OUT+"</pre>";
    // ------------------------------------------------------------------

}

// ================================================================================
function _onElemclick(elem){
 
    // ------------------------------------------------------------------
    if(elem.style.backgroundColor == COLORS[0])
        elem.style.backgroundColor = COLORS[1];
    else
        elem.style.backgroundColor = COLORS[0];
    // ------------------------------------------------------------------
    _createArray();
    // ------------------------------------------------------------------

}
// ================================================================================
function _reset(){

    // ------------------------------------------------------------------
    for(var Y=0; Y<OBJECT_MATRIX_H; Y++){
        
        for(var X=0; X<OBJECT_MATRIX_W; X++){
            __byId(Y+"_"+X).style.backgroundColor = COLORS[0];
        }
    }
    // ------------------------------------------------------------------
}

// ================================================================================
